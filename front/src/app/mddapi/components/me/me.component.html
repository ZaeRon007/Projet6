<app-header></app-header>

<mat-card class="center">
  <mat-card-header>
      <mat-card-title>Profil utilisateur</mat-card-title>
  </mat-card-header>

  <mat-form-field>
    <input matInput 
          placeholder="username" 
          [(ngModel)]="user.name">
  </mat-form-field>
  
  <mat-form-field>
    <input matInput 
          placeholder="pat@example.com" 
          [(ngModel)]="user.email">
  </mat-form-field>
  
  <button mat-raised-button 
        color="primary" 
        type="submit" 
        (click)="onSubmit()"
        [disabled]="!isFormValid()">
        Sauvegarder
  </button>
  <button type="submit" 
          (click)="logOut()">
          Se déconnecter
  </button>
</mat-card>
<mat-grid-list *ngIf="displayThemes$.value.length > 0" cols="2" rowHeight="300px" gutterSize="0px">
  <p>{{displayThemes$.value.length}}</p>
  <mat-card-header>
      <mat-card-title>Abonnements</mat-card-title>
  </mat-card-header>
  <mat-grid-tile *ngFor="let theme of displayThemes$.value">
          <mat-card>
                  <mat-card-content>{{theme.title}}</mat-card-content>
              <mat-card-content>
                  <p>{{theme.content}}</p>
              </mat-card-content>
          </mat-card>
          <button mat-raised-button 
                        color="warn" 
                        type="button" 
                        (click)="onClickUnSubscribe(theme.id)">
                    Se désabonner
                </button>
  </mat-grid-tile>
</mat-grid-list>